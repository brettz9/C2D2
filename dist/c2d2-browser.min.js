!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).c2d2=e()}(this,(function(){"use strict";let t;function e(t){return function(...e){return this.parent[t](...e),this}}function o(t,e,o){return function(...r){const s=r[0];return"putImageData"===t&&"object"==typeof s&&s.imageData&&(r[0]=s.imageData),new o(e?this.parent[t]:this.parent[t](...r))}}function r(t){return function(...e){return this.parent[t](...e)}}function s(t){return function(e){return void 0===e?this.parent[t]:(this.parent[t]=e,this)}}const i={addMethods(t,o){for(const r of t)o.prototype[r]=e(r)},addGetterMethods(t,e,s,i){for(const a of t)e.prototype[a]=s?o(a,i,s):r(a)},addPropertyMethods(t,e){for(const o of t)e.prototype[o]=s(o)}};function a(t){a.prototype.length||(a.prototype.item=function(t,e){return void 0===e?this.parent[t]:(this.parent[t]=e,this)},i.addPropertyMethods(["length"],a)),this.parent=this.array=this.pixelArray=t}function n(t){n.prototype.width||(i.addGetterMethods(["data"],n,a,!0),i.addPropertyMethods(["width","height","resolution"],n)),this.parent=this.imageData=t}function h(t){h.prototype.addColorStop||i.addMethods(["addColorStop"],h),this.parent=this.gradient=t}function l(t){return this.parent=this.pattern=t,t}function c(e,o){let r=o;const s=t.document||null,i="object"!=typeof e||!e.length;i?(r=o=e,e=[]):o=o||{};const a=o&&(o.path||o.fileStream);let n;if("string"==typeof o)r=s.querySelector("#"+o);else if("object"==typeof o&&a){const t=e[0]||o.width||o.w,r=e[1]||o.height||o.h,s=o.fileStream||o.path;s&&u({path:s,width:t,height:r})}else"object"!=typeof o||o.nodeName?void 0===o&&(r=s.querySelector("canvas")):(r=s.createElementNS&&null!==s.documentElement.namespaceURI?s.createElementNS("http://www.w3.org/1999/xhtml","canvas"):s.createElement("canvas"),(o.width||o.w)&&r.setAttribute("width",o.width||o.w),(o.height||o.h)&&r.setAttribute("height",o.height||o.h),o.id&&r.setAttribute("id",o.id),o.style&&r.setAttribute("style",o.style),(o.class||o.className)&&r.setAttribute("class",o.class||o.className),n=o.appendTo?"string"==typeof o.appendTo?s.querySelector("#"+o.appendTo):o.appendTo:s.body);return!i&&r.setAttribute&&(r.setAttribute("width",e[0]),r.setAttribute("height",e[1])),n&&n.append(r),t.G_vmlCanvasManager&&(r=t.G_vmlCanvasManager.initElement(r)),r}function d(t,e){if(!(this instanceof d))return new d(t,e);const o=this.canvas=c(t,e);this.context=this.parent=o.getContext("2d"),d.prototype.arc||(i.addMethods(["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","commit","drawImage","drawSystemFocusRing","ellipse","fill","fillRect","fillText","getLineDash","lineTo","moveTo","quadraticCurveTo","rect","removeHitRegion","resetClip","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],d),i.addGetterMethods(["createImageData","createImageDataHD","getImageData","getImageDataHD","putImageData","putImageDataHD"],d,n),i.addGetterMethods(["createLinearGradient","createRadialGradient"],d,h),i.addGetterMethods(["createPattern"],d,l),i.addGetterMethods(["drawCustomFocusRing","isPointInPath","isPointInStroke","measureText"],d),i.addPropertyMethods(["canvas","currentTransform","direction","fillStyle","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","strokeStyle","textAlign","textBaseline"],d)),this.width=o.width,this.height=o.height}function f(t,e,o){const r=t.cssRules||t.rules;for(let t=0,s=r.length;t<s;t++){const s=r[t];try{if(1===s.type&&s.selectorText===e)return s.style.getPropertyValue(o)}catch(t){if(s.selectorText===e)return o=o.replaceAll(/-[a-z]/gu,String.prototype.toUpperCase),s.style[o]}}return!1}let u;return["transferControlToProxy","getContext","probablySupportsContext","supportsContext","setContext","toDataURL","toDataURLHD","toBlob","toBlobHD"].forEach((function(t){d.prototype[t]=function(...e){return this.canvas[t](...e)}})),d.addMethods=function(t){Object.entries(t).forEach((([t,e])=>{d.prototype[t]=function(t){return function(...e){return t.apply(this,e),this}}(e)}))},d.extend=function(t){Object.entries(t).forEach((([t,e])=>{d.prototype[t]=e}))},d.addMethods({$line(...t){const[e,o]=t;let r=t;e&&"object"==typeof e&&!e.length&&(e.color&&this.$lineColor(e.color),(e.width||e.w)&&this.lineWidth(e.width||e.w),(e.shadow||e.$shadow)&&this.$shadow(e.shadow),r=[...e.coords||e.xy||e.path]),this.beginPath().moveTo.apply(this,r[0]),r.slice(1).forEach((t=>{this.lineTo(...t)})),(o||e.close)&&this.closePath(),this.stroke()},$fill(...t){const[e]=t;let o=t;return e&&"object"==typeof e&&!e.length&&(e.color&&this.$fillColor(e.color),(e.shadow||e.$shadow)&&this.$shadow(e.shadow),o=[...e.coords||e.xy||e.path]),4===o[0].length?this.$fillRect(...o):(this.beginPath().moveTo.apply(this,o[0]),o.slice(1).forEach((t=>{this.lineTo(...t)})),this.fill(),this)},$clear(...t){return this.$clearRect(...t),this},$fillRect(...t){const[e,o,r,s]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$fillRect(...e);return this}return this.fillRect(e||0,o||0,r||this.width,s||this.height),this},$clearRect(...t){const[e,o,r,s]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$clearRect(...e);return this}return this.clearRect(e||0,o||0,r||this.width,s||this.height),this},$strokeRect(...t){const[e,o,r,s]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$strokeRect(...e);return this}return this.strokeRect(e||0,o||0,r||this.width,s||this.height),this},$arc(...t){const[e,o,r,s,i,a]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$arc(...e);return this}return this.arc(e,o,r,s,i,a),this},$quadraticCurve(...t){this.$quadratic(...t)},$quadraticCurveTo(...t){this.$quadratic(...t)},$quadratic(...t){const[e,o,r,s]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$quadratic(...e);return this}return this.quadraticCurveTo(e,o,r,s),this},$bezierCurve(...t){this.$bezier(...t)},$bezierCurveTo(...t){this.$bezier(...t)},$bezier(...t){const[e,o,r,s,i,a]=t;if(e&&"object"==typeof e&&e.length){for(const e of t)this.$bezier(...e);return this}return this.bezierCurveTo(e,o,r,s,i,a),this}}),d.extend({$shadowColor(t){return"random"===t&&(t=d.randomColor()),this.shadowColor(t)},$fillColor(t){return"random"===t&&(t=d.randomColor()),this.fillStyle(t)},$lineColor(t){return"random"===t&&(t=d.randomColor()),this.strokeStyle(t)},$imageData(...t){return"object"==typeof t[0]&&void 0!==t[1]?(this.putImageData(...t),this):void 0!==t[2]?this.getImageData(...t):this.createImageData(...t)},$shadowOffset(t,e){return void 0===t?[this.shadowOffsetX(),this.shadowOffsetY()]:("object"==typeof t&&!e&&t.length?(e=t[1],t=t[0]):"string"==typeof t&&t.includes(", ")&&([t,e]=t.split(/\s*,\s*/u)),this.shadowOffsetX(t).shadowOffsetY(e),this)},$shadowBlur(...t){this.shadowBlur(...t)},$shadowOffsetY(...t){this.shadowOffsetY(...t)},$shadowOffsetX(...t){this.shadowOffsetX(...t)},$shadow(t){return void 0===t?{offset:this.$shadowOffset(),blur:this.shadowBlur(),color:this.$shadowColor(),offsetX:this.shadowOffsetX(),offsetY:this.shadowOffsetY()}:(Object.entries(t).forEach((([t,e])=>{"offset"===t?this.$shadowOffset(e):this[`$shadow${t.charAt(0).toUpperCase()+t.slice(1)}`](e)})),this)}}),d.randomNumber=function(t=0,e=1){return Math.floor(Math.random()*(e-t+1))+t},d.randomColor=function(t=0,e=0,o=0,r=255,s=255,i=255){return`rgb${d.randomNumber(t,r)}, ${d.randomNumber(e,s)}, ${d.randomNumber(o,i)})`},d.getCSSPropertyValue=function(t,e,o){let r,s;return void 0!==o?(r=document.styleSheets[o],f(r,t,e)):([...document.styleSheets].some((o=>(s=f(o,t,e),s))),s)},d.CanvasPixelArray=a,d.ImageData=n,d.Gradient=h,d.Pattern=l,d.canvasElement=c,d.setWriteToDisk=t=>{u=t},d.setWindow=e=>{t=e},d.setWindow(window),d}));
//# sourceMappingURL=c2d2-browser.min.js.map
